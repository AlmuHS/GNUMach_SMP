














#define TH_PCB 40




#define TH_TASK 12




#define TH_RECOVER 104




#define TH_KERNEL_STACK 44




#define TH_SWAP_FUNC 52




#define TASK_EMUL 108




#define DISP_MIN 8




#define DISP_COUNT 4




#define DISP_VECTOR 12




#define KSS_EBX 4072




#define KSS_ESP 4076




#define KSS_EBP 4080




#define KSS_ESI 4088




#define KSS_EDI 4084




#define KSS_EIP 4092




#define IKS_SIZE 24




#define IEL_SIZE 4




#define R_CS 60




#define R_UESP 68




#define R_EAX 44




#define R_TRAPNO 48




#define R_ERR 52




#define R_EFLAGS 64




#define R_EIP 56




#define R_CR2 28




#define R_EDI 16




#define I_EIP 28




#define I_CS 32




#define I_EFL 36




#define TSS_ESP0 4




#define TSS_SS0 8




#define SUB_TYPE_CPU_TYPE 4




#define NBPG 4096




#define VM_MIN_ADDRESS 0




#define VM_MAX_ADDRESS -1073741824




#define KERNELBASE -1073741824




#define KERNEL_STACK_SIZE 4096




#define PDESHIFT 22




#define PDEMASK 1023




#define PTESHIFT 12




#define PTEMASK 1023




#define PTE_SIZE 4




#define PTE_PFN -4096




#define PTE_V 1




#define PTE_W 2




#define PTE_INVALID -2




#define PTES_PER_PAGE 1024




#define INTEL_PTE_KERNEL 3




#define IDTSZ 80




#define GDTSZ 11




#define LDTSZ 4




#define KERNEL_RING 0




#define KERNEL_CS 8




#define KERNEL_DS 16




#define KERNEL_TSS 32




#define KERNEL_LDT 24




#define KERNELBASEPDE 3072




#define INTSTACK_SIZE 4096


























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































